##События клавиатуры, особенности их обработки

Другое событие — ОпКеуPress наступает, если компонент находится в фокусе при нажатии пользователем клавиши символа. Параметр Key в обработчике этого события имеет тип char и соответствует символу нажатой клавиши. Функциональные клавиши и специальные клавиши типа <Shift>, <Alt> и <Ctrl> не вызывают этого события. Поэтому нажатие таких комбинаций клавиш, как, например, <Shift>+<A>, генерирует только одно событие OnKeyPress, при котором параметр Key равен А. Поскольку параметр Key передается в обработчик события как переменная, его можно изменять, передавая для дальнейшей обработки другой символ. В некоторых программах этот прием использовать полезно.

Для того чтобы распознавать комбинации клавиш или клавиши, не соответствующие символам, необходимо использовать обработчики событий OnKeyDown и OnKeyUp.

Событие OnKeyDown наступает, если компонент находится в фокусе, при нажатии пользователем любой клавиши, включая функциональные и специальные, такие как <Shift>, <Alt> и <Ctrl>. Кроме обычного параметра Sender, указывающего на компонент, в котором произошло событие, в обработчик события передаются такие параметры, как Key и Shift. Параметр Key позволяет определить код нажатой клавиши клавиатуры.

Событие OnKeyUp наступает, если компонент находится в фокусе при отпускании пользователем любой ранее нажатой клавиши, включая функциональные и вспомогательные, такие как <Shift>, <Alt> и <Ctrl>. В обработчик события передается параметр Sender, указывающий на компонент, в котором произошло событие. Кроме этого, в обработчик события передаются параметры WORD &Key и TShiftState Shift, предназначенные для возврата через них кодов клавиш.
 
Событие OnKeyUp наиболее удобно для распознавания нажатых клавиш и комбинации клавиш. Необходимо обратить внимание, что параметр Key для обработчика данного события имеет тип word в отличие от типа char для события OnKeyPress. Поэтому параметр Key допускается сравнивать с целым числом, соответствующим коду символа, или применить к параметру Key функцию char, переводящую его в символ для сравнения с символами. К тому же надо учитывать, что виртуальный символьный код одинаков для символов в верхнем и нижнем регистре и для различной раскладки клавиатуры (русской или английской).