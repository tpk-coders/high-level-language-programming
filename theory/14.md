##Назначение и описание основных функций «стандартной» оконной программы Windows

![winapp](http://dvo.sut.ru/libr/cvti/i618buz/pic/20_1.gif)

Точка входа в приложение для Windows – функция `WinMain()`. Она выполняет действия `1` и `2` по созданию окон в системе и запускает цикл обработки сообщений приложения. Сообщение, появившееся в системе, попадает в системную очередь сообщений `3`, затем в очередь сообщений приложения, которому оно адресовано `4`. Цикл обработки сообщений читает сообщение `5`, распознает и передает управление ОС `6`. ОС вызывает оконную процедуру `7`, по завершении оконной процедуры управление возвращается в Windows `8`.

Таким образом, в отличие от функции `main()`, `WinMain()` получает управление от операционной системы только на короткое время, после чего управление возвращается ОС, которая и вызывает оконную процедуру. После выполнения действий оконной процедурой управление опять передается ОС. Такой механизм взаимодействия приложения и ОС позволяет ОС регулярно получать управление и воздействовать в любой момент времени на любое выполняющееся приложение.

Помните, что оконная программа не заведется без `WndProc` и `WinMain`.
```cpp
...
LRESULT CALLBACK WndProc(HWND,UINT,WPARAM,LPARAM);

int WINAPI WinMain(...) { 
	...
}
...
```